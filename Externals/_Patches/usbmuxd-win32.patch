diff --git a/src/main.c b/src/main.c
index 29bc852..bf24a56 100644
--- a/src/main.c
+++ b/src/main.c
@@ -721,7 +721,7 @@ int main(int argc, char *argv[])
 	}
 
 	if (tcp) {
-		idevice_set_socket_type(IDEVICE_SOCKET_TYPE_TCP);
+        //idevice_set_socket_type(IDEVICE_SOCKET_TYPE_TCP);
 	}
 #endif
 
@@ -844,7 +844,7 @@ int main(int argc, char *argv[])
 	memset(&fst, '\0', sizeof(struct stat));
 	if (stat(userprefdir, &fst) < 0) {
 #ifdef WIN32
-		if (_mkdir(userprefdir) < 0) {
+        if (mkdir(userprefdir) < 0) {
 #else
 		if (mkdir(userprefdir, 0775) < 0) {
 #endif
diff --git a/src/usb.c b/src/usb.c
index cc90e38..433bc9a 100644
--- a/src/usb.c
+++ b/src/usb.c
@@ -30,7 +30,7 @@
 #include <string.h>
 
 #ifdef WIN32
-#include "libusb-1.0/libusb.h"
+#include "libusb.h"
 #include "usb_win32.h"
 #else
 #include <libusb.h>
diff --git a/src/utils.c b/src/utils.c
index 0448a69..80ca708 100644
--- a/src/utils.c
+++ b/src/utils.c
@@ -312,7 +312,7 @@ int plist_read_from_filename(plist_t *plist, const char *filename)
 	return 1;
 }
 
-int plist_write_to_filename(plist_t plist, const char *filename, enum plist_format_t format)
+int plist_write_to_filename(plist_t plist, const char *filename, plist_format_t format)
 {
 	char *buffer = NULL;
 	uint32_t length;
diff --git a/src/utils.h b/src/utils.h
index 3aba478..08e6a00 100644
--- a/src/utils.h
+++ b/src/utils.h
@@ -83,13 +83,8 @@ char *string_concat(const char *str, ...);
 int buffer_read_from_filename(const char *filename, char **buffer, uint64_t *length);
 int buffer_write_to_filename(const char *filename, const char *buffer, uint64_t length);
 
-enum plist_format_t {
-	PLIST_FORMAT_XML,
-	PLIST_FORMAT_BINARY
-};
-
 int plist_read_from_filename(plist_t *plist, const char *filename);
-int plist_write_to_filename(plist_t plist, const char *filename, enum plist_format_t format);
+int plist_write_to_filename(plist_t plist, const char *filename, plist_format_t format);
 
 uint64_t mstime64(void);
 void get_tick_count(struct timeval * tv);
